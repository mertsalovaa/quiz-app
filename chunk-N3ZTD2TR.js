import{A as n,C as g,bb as c,eb as o,fb as d}from"./chunk-R2VOVZNE.js";import{a as l,b as m}from"./chunk-AIZVJUQQ.js";function s(e){return new DOMParser().parseFromString(e,"text/html").documentElement.textContent||e}function Q(e){return m(l({},e),{question:s(e.question),category:s(e.category),correct_answer:s(e.correct_answer),incorrect_answers:e.incorrect_answers.map(s)})}var u={quizzesCount:67,questionsCount:{total:670,right:600,wrong:70},time:675},R=["Quizzes were played","Questions have been answered","Time of answering quizzes"];var a=class e{getFromStorage(r,t){try{let i=localStorage.getItem(r);return i?JSON.parse(i):t}catch{return t}}saveToStorage(r,t){localStorage.setItem(r,JSON.stringify(t))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})};var f=class e{constructor(r){this.storage=r}getQuizResult(){return this.storage.getFromStorage(o.QUIZ_RESULT,null)}getStatisticData(){return this.storage.getFromStorage(o.CHART,u)}initDefaultStatistic(){localStorage.getItem(o.CHART)||this.storage.saveToStorage(o.CHART,u)}initScore(r,t){let i=0;return r.subscribe(p=>{p.forEach((S,T)=>{s(S.correct_answer)===t[T]&&i++})}).unsubscribe(),i}initResult(r){this.storage.saveToStorage(o.QUIZ_RESULT,r);let t=this.getStatisticData();t.quizzesCount++,t.questionsCount.total+=c,t.questionsCount.right=t.questionsCount.right+r.score,t.questionsCount.wrong=t.questionsCount.wrong+(c-r.score),t.time+=+(r.seconds/d).toFixed(1),this.storage.saveToStorage(o.CHART,t)}static \u0275fac=function(t){return new(t||e)(g(a))};static \u0275prov=n({token:e,factory:e.\u0275fac,providedIn:"root"})};export{Q as a,R as b,f as c};
