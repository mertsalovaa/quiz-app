import{b as A,d as q,e as P}from"./chunk-ZJNOUDXU.js";import{$ as i,G as m,U as a,V as y,Va as z,Wa as E,X as C,Xa as u,Y as p,Ya as R,Z as x,Za as T,_ as v,aa as n,ba as l,ga as b,ha as S,ia as O,ka as w,la as D,ma as I,na as o,oa as c,pa as d,qa as M}from"./chunk-3RP7OZAM.js";import"./chunk-AIZVJUQQ.js";var j={startAngle:-45,endAngle:315,expandOnClick:!0,offsetX:0,offsetY:0,customScale:1,donut:{size:"45%"}},N=[{breakpoint:768,options:{legend:{position:"bottom",horizontalAlign:"start"}}}];function Q(s){return{series:s.map(r=>r.value),chart:{type:"donut",width:"100%",height:500},dataLabels:{enabled:!1},colors:["#63C995","#E23D69"],legend:{show:!1},tooltip:{enabled:!1},states:{hover:{filter:{type:"darken"}},active:{allowMultipleDataPointsSelection:!1,filter:{type:"none"}}},plotOptions:{pie:j},responsive:N}}var H=["chart"],h=class s{chart;data;chartOptions;ngOnInit(){let r=[{name:"right",value:this.data.questionsCount.right},{name:"wrong",value:this.data.questionsCount.wrong}];this.chartOptions=Q(r)}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=m({type:s,selectors:[["app-ui-chart-rating"]],viewQuery:function(e,t){if(e&1&&w(H,5),e&2){let g;D(g=I())&&(t.chart=g.first)}},inputs:{data:"data"},decls:2,vars:9,consts:[["id","chart"],[3,"series","chart","responsive","legend","tooltip","plotOptions","colors","dataLabels","states"]],template:function(e,t){e&1&&(i(0,"div",0),l(1,"apx-chart",1),n()),e&2&&(a(),p("series",t.chartOptions.series)("chart",t.chartOptions.chart)("responsive",t.chartOptions.responsive)("legend",t.chartOptions.legend)("tooltip",t.chartOptions.tooltip)("plotOptions",t.chartOptions.plotOptions)("colors",t.chartOptions.colors)("dataLabels",t.chartOptions.dataLabels)("states",t.chartOptions.states))},dependencies:[z],encapsulation:2})};var Y=["*"],f=class s{value="";label="";iconClass="";static \u0275fac=function(e){return new(e||s)};static \u0275cmp=m({type:s,selectors:[["app-statistic-card"]],inputs:{value:"value",label:"label",iconClass:"iconClass"},ngContentSelectors:Y,decls:9,vars:4,consts:[[1,"w-full","flex","lg:py-3","max-lg:py-1.5"],[1,"flex","items-end","max-md:flex-wrap"],["type","P1",1,"text-primary","pr-1.5"],["type","Label",1,"text-secondary"]],template:function(e,t){e&1&&(S(),i(0,"div",0),l(1,"span"),i(2,"span")(3,"span",1)(4,"app-ui-typography",2),o(5),n(),O(6),n(),i(7,"app-ui-typography",3),o(8),n()()()),e&2&&(a(),x(t.iconClass+" block w-10 h-10 rounded mx-2"),a(4),c(t.value),a(3),c(t.label))},dependencies:[u],encapsulation:2})};function G(s,r){if(s&1&&(i(0,"span",16)(1,"app-ui-typography",17),o(2),n(),i(3,"app-ui-typography",18),o(4),n()(),i(5,"app-ui-typography",19),o(6),n(),i(7,"app-ui-typography",20),o(8),n()),s&2){let e=b();a(2),c(e.quizResult.score),a(2),d("/",e.size,""),a(2),c(e.quizResult.formattedTime),a(2),c(e.quizResult.resultText)}}var _=class s{constructor(r){this.statisticService=r}chartData;quizResult;size=A;texts=q;ngOnInit(){this.chartData=this.statisticService.getStatisticData(),this.quizResult=this.statisticService.getQuizResult()}static \u0275fac=function(e){return new(e||s)(y(P))};static \u0275cmp=m({type:s,selectors:[["app-statistics"]],standalone:!0,features:[M],decls:25,vars:10,consts:[[1,"absolute","inset-x-0","top","flex","flex-col","items-center","justify-between","min-h-fit","w-full","bg-primary"],[1,"first:text-bright","flex","items-center","*:p-1.5","flex-wrap","justify-center","text-center","w-3/4","pb-3"],["type","H2"],["type","H2","highlightText","ellipse"],["link","/quizzes-catalog",1,"mb-4","lg:absolute","lg:left-3"],["size","md","type","accent","iconState","prev"],[1,"bg-bright","m-5","p-10","rounded-3xl","flex","flex-col","items-center","h-auto","justify-between","xl:w-1/2","max-xl:w-1/2","lg:w-2/3","max-lg:w-3/5","md:w-3/4","max-md:w-3/4","max-sm:w-10/12"],["type","H4"],[1,"flex","max-lg:flex-col","items-center","justify-around","w-full","*:m-2"],[3,"data"],["iconClass","bg-warning",3,"value","label"],["iconClass","bg-secondary",3,"value","label"],[1,"flex","items-end","*:p-0.5"],["type","P2",1,"text-success"],["type","P2",1,"text-error"],["iconClass","bg-accent",3,"value","label"],[1,"flex","items-center","pb-2"],["type","H5","highlightText","framed","highlightColor","bg-warning"],["type","P1",1,"text-bright","ml-2"],["type","H6",1,"text-bright"],["type","P1",1,"text-bright","lg:w-3/12","max-lg:w-9/12","py-3","text-center","flex","justify-center"]],template:function(e,t){e&1&&(i(0,"div",0)(1,"div",1)(2,"app-ui-typography",2),o(3,"Your Score"),n(),i(4,"app-ui-typography",3),o(5,":"),n()(),C(6,G,9,4),i(7,"app-ui-link",4)(8,"app-ui-button",5),o(9,"Go to catalog"),n()(),i(10,"div",6)(11,"app-ui-typography",7),o(12,"My statistics"),n(),i(13,"div",8),l(14,"app-ui-chart-rating",9),i(15,"div"),l(16,"app-statistic-card",10),i(17,"app-statistic-card",11)(18,"span",12)(19,"app-ui-typography",13),o(20),n(),i(21,"app-ui-typography",14),o(22),n()()(),i(23,"app-statistic-card",15),o(24,"min"),n()()()()()),e&2&&(a(6),v(t.quizResult!=null?6:-1),a(8),p("data",t.chartData),a(2),p("value",t.chartData.quizzesCount)("label",t.texts[0]),a(),p("value",t.chartData.questionsCount.total)("label",t.texts[1]),a(3),d("",t.chartData.questionsCount.right," right"),a(2),d("",t.chartData.questionsCount.wrong," wrong"),a(),p("value",t.chartData.time)("label",t.texts[2]))},dependencies:[E,R,u,T,h,f],encapsulation:2})};export{_ as StatisticsComponent};
